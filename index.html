<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SDN KARANGSEGAR 03</title>
  <meta name="theme-color" content="#c79cff" />
  <style>
    :root{
      --bg1:#ece3ff;
      --bg2:#f4e6ff;
      --card1:#f5eaff;
      --card2:#ffe6f5;
      --text:#2a2140;
      --muted:#6b6280;
      --accent:#8b5cf6;
      --accent-2:#ff6aa9;
      --success:#dff8e8;
      --radius:18px;
      --shadow:0 10px 30px rgba(124,77,255,0.18), 0 6px 16px rgba(0,0,0,0.06);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Noto Sans", "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
      color:var(--text);
      background:
                  radial-gradient(1400px 900px at 20% -10%, #e2d5ff 0%, transparent 60%),
                  radial-gradient(1200px 800px at 110% 20%, #f0d9ff 0%, transparent 60%),
                  radial-gradient(1000px 900px at -10% 120%, #eddfff 0%, transparent 60%),
                  linear-gradient(135deg, var(--bg1), var(--bg2));
      background-size: 140% 140%, 160% 160%, 180% 180%, 100% 100%;
      animation:
        subtle 12s ease-in-out infinite alternate,
        moveBg 18s linear infinite;
      overflow-x:hidden;
    }

    /* subtle floating dots animation like in screenshots */
    .particles{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:1;
      overflow:hidden;
    }
    /* large animated purple glow layer */
    .gradient-flow{
      position:fixed;
      inset:-20%;
      z-index:0;
      pointer-events:none;
      filter: blur(36px) saturate(145%) opacity(0.75);
    }
    .gradient-flow::before{
      content:"";
      position:absolute;
      inset:0;
      border-radius:50%;
      background:
        conic-gradient(from 0deg at 50% 50%,
          rgba(139,92,246,0.55),
          rgba(255,192,244,0.38),
          rgba(139,92,246,0.65),
          rgba(255,192,244,0.38),
          rgba(139,92,246,0.55));
      transform: rotate(0deg) scale(1.1);
      animation: spin 28s linear infinite;
    }
    .gradient-flow::after{
      content:"";
      position:absolute;
      inset:10% 5% 5% 10%;
      border-radius:50%;
      background:
        radial-gradient(40% 40% at 30% 30%, rgba(164,128,255,0.45), transparent 60%),
        radial-gradient(35% 35% at 70% 60%, rgba(255,168,236,0.35), transparent 70%),
        radial-gradient(45% 45% at 60% 25%, rgba(154,111,255,0.35), transparent 70%);
      animation: spinReverse 36s linear infinite;
    }
    /* Faster animation only for main (in-website) background, keep login as-is */
    .main-flow::before{ animation-duration: 16s }
    .main-flow::after{ animation-duration: 22s }
    @keyframes spin{ to{ transform: rotate(360deg) scale(1.1) } }
    @keyframes spinReverse{ to{ transform: rotate(-360deg) } }
    .dot{
      position:absolute;
      width:8px;height:8px;
      background:rgba(124,77,255,0.25);
      border-radius:50%;
      filter:blur(0.2px);
      animation: float var(--dur) linear infinite;
      transform:translate(-50%,-50%);
    }
    @keyframes float{
      0%{ transform: translate(var(--x), 110vh) scale(var(--s)); opacity:0 }
      10%{ opacity:.7 }
      100%{ transform: translate(calc(var(--x) + var(--dx)), -10vh) scale(var(--s)); opacity:0 }
    }

    .container{
      position:relative;
      z-index:1;
      max-width:1080px;
      margin:40px auto 80px;
      padding:0 20px;
    }

    .header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      background: linear-gradient(135deg, #e9e1ff, #f6dbff);
      border-radius: calc(var(--radius) + 6px);
      padding:18px 22px;
      box-shadow: var(--shadow);
    }
    /* Special centered site header */
    .site-header{
      justify-content:center;
    }
    .site-header .brand{
      width:100%;
      display:grid;
      grid-template-columns: 48px 1fr 48px;
      align-items:center;
      justify-items:center;
      gap:12px;
    }
    .title-main{
      margin:0;
      text-align:center;
      font-size:28px;
      font-weight:900;
      letter-spacing:.4px;
    }
    .brand{
      display:flex; align-items:center; gap:12px;
    }
    .badge{
      width:44px;height:44px;border-radius:999px;
      display:grid;place-items:center;
      background: radial-gradient(circle at 30% 30%, #ffd179, #ff9f4d);
      box-shadow: inset 0 2px 8px rgba(255,255,255,0.6), 0 6px 16px rgba(255,159,77,0.45);
      color:#fff; font-weight:700; font-size:20px;
    }
    h1{
      margin:0; font-size:22px; letter-spacing:.2px;
    }
    .by{
      font-size:12px; color:var(--muted);
    }

    .card{
      background: linear-gradient(135deg, var(--card1), var(--card2));
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding:22px;
      margin-top:22px;
    }
    .card-upload{
      background: linear-gradient(135deg, #ede4ff, #ffe4f9);
    }
    .card-info{
      background: linear-gradient(135deg, #f0e7ff, #ffeaf6);
    }
    /* Category headings uppercase for a bold look */
    .category .card-title{
      text-transform: uppercase;
      letter-spacing: .5px;
    }
    .card-title{
      display:flex; align-items:center; gap:10px;
      font-weight:700; letter-spacing:.2px;
    }
    .card-title .icon{
      color:var(--accent);
      font-size:20px;
    }
    .uploader{
      margin-top:16px;
      border:2px dashed rgba(0,0,0,0.12);
      border-radius: 16px;
      min-height:180px;
      display:grid; place-items:center;
      background: rgba(255,255,255,0.4);
      transition: .2s ease;
    }
    .uploader.dragover{
      border-color: var(--accent);
      background: rgba(124,77,255,0.06);
    }
    .uploader .inner{
      text-align:center; padding:26px 14px; color:var(--muted);
    }
    .camera{
      width:56px;height:56px;border-radius:16px;
      display:grid;place-items:center;margin:0 auto 8px;
      color:var(--accent);
      background: linear-gradient(135deg, #ffffff, #ffe9ff);
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.8), 0 6px 16px rgba(124,77,255,.18);
      font-size:26px;
    }
    .upload-note{ font-size:12px; margin-top:6px; color:var(--muted) }
    .upload-btn{
      margin-top:10px;
      display:inline-block;
      background: linear-gradient(135deg, var(--accent), #9b6bff);
      color:#fff; border:none; padding:10px 14px; border-radius:12px;
      font-weight:600; cursor:pointer;
      box-shadow: 0 8px 20px rgba(124,77,255,.35);
    }
    input[type=file]{ display:none }

    .gallery{
      margin-top:18px;
      display:grid;
      grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
      gap:14px;
    }
    .thumb{
      position:relative; overflow:hidden; border-radius:14px;
      background:#fff; box-shadow: var(--shadow);
      aspect-ratio:1/1;
    }
    .thumb img{
      width:100%; height:100%; object-fit:cover; display:block;
    }
    .thumb video{
      width:100%; height:100%; object-fit:cover; display:block; background:#000;
    }
    .remove{
      position:absolute; top:8px; right:8px;
      background: rgba(0,0,0,0.55); color:#fff; border:none;
      width:30px; height:30px; border-radius:999px;
      display:grid; place-items:center; cursor:pointer;
      font-size:16px; line-height:0;
      transition:.15s ease;
    }
    .remove:hover{ background: rgba(0,0,0,0.75) }
    .empty{
      display:grid; place-items:center; text-align:center; color:var(--muted);
      padding:34px 12px; border-radius:16px; min-height:160px;
      background: linear-gradient(135deg, #ede4ff, #ffe4f9);
      box-shadow: var(--shadow);
    }
    .empty .big{
      font-size:40px; color:#a08aff; margin-bottom:8px;
    }

    .contacts{
      display:grid; grid-template-columns: 1fr; gap:14px;
      margin-top:22px;
    }
    @media (min-width:860px){
      .contacts{ grid-template-columns: 1fr 1fr 1fr }
    }
    .contact{
      background: #fff;
      border-radius: 14px;
      box-shadow: var(--shadow);
      padding:16px;
      display:flex; align-items:center; gap:12px;
      min-height:64px;
    }
    .contact.whatsapp{
      background: var(--success);
    }
    .contact .label{
      font-size:12px; color:var(--muted); margin-bottom:4px;
    }
    .contact .value{
      font-weight:700;
      word-break:break-word;
    }
    .footer{
      text-align:center; color:var(--muted); margin:26px 0 6px;
    }

    /* Login overlay */
    .gate{
      position:fixed; inset:0; display:grid; place-items:center;
      z-index:10;
      background:
        radial-gradient(1200px 800px at 20% -10%, #e2d5ff 0%, transparent 60%),
        radial-gradient(1000px 700px at 120% 20%, #f0d9ff 0%, transparent 60%),
        radial-gradient(900px 800px at -10% 120%, #eddfff 0%, transparent 60%),
        linear-gradient(135deg, var(--bg1), var(--bg2));
      background-size: 140% 140%, 160% 160%, 180% 180%, 100% 100%;
      animation:
        subtle 14s ease-in-out infinite alternate,
        moveBg 28s linear infinite;
    }
    @keyframes subtle{
      from{ filter:hue-rotate(0deg) }
      to{ filter:hue-rotate(-10deg) }
    }
    /* Move multiple gradient layers to create a smooth flowing background */
    @keyframes moveBg{
      0%{
        background-position:
          0% 0%,
          100% 0%,
          0% 100%,
          50% 50%;
      }
      50%{
        background-position:
          100% 50%,
          0% 100%,
          100% 0%,
          50% 50%;
      }
      100%{
        background-position:
          0% 0%,
          100% 0%,
          0% 100%,
          50% 50%;
      }
    }
    .login{
      width:min(96vw, 460px);
      background: linear-gradient(135deg, #e9e1ff, #f6dbff);
      border-radius: 22px;
      padding: 24px;
      box-shadow: var(--shadow);
    }
    .login h2{ margin:6px 0 12px }
    .field{
      display:flex; flex-direction:column; gap:6px; margin:12px 0;
    }
    .input{
      background:#fff; border:1px solid rgba(0,0,0,.06);
      padding:12px 14px; border-radius:12px; font-size:16px; outline:none;
    }
    .submit{
      width:100%; margin-top:10px;
      background: linear-gradient(135deg, var(--accent), #9b6bff);
      color:#fff; border:none; padding:12px 16px; border-radius:12px;
      font-weight:700; cursor:pointer; box-shadow: 0 8px 20px rgba(124,77,255,.35);
    }
    .error{ color:#c0392b; font-size:13px; min-height:18px }
    .hide{ display:none !important }
  </style>
</head>
<body>
  <!-- animated floating dots -->
  <div class="gradient-flow main-flow" aria-hidden="true"></div>
  <div class="particles" id="particles" aria-hidden="true"></div>

  <!-- LOGIN GATE -->
  <section class="gate" id="gate">
    <div class="gradient-flow" aria-hidden="true"></div>
    <div class="login" role="dialog" aria-labelledby="login-title">
      <div class="header" style="margin:0 0 10px 0; box-shadow:none;">
        <div class="brand">
          <div class="badge">â˜…</div>
          <div>
            <div style="font-weight:800">SDN KARANGSEGAR 03</div>
            <div class="by">Masuk untuk mengakses website</div>
          </div>
        </div>
      </div>
      <h2 id="login-title">Login</h2>
      <form id="login-form" novalidate>
        <div class="field">
          <label for="username">Username</label>
          <input id="username" name="username" class="input" placeholder="Masukkan username" autocomplete="username" required />
        </div>
        <div class="field">
          <label for="password">Password</label>
          <input id="password" name="password" type="password" class="input" placeholder="Masukkan password" autocomplete="current-password" required />
        </div>
        <div class="error" id="login-error"></div>
        <button type="submit" class="submit">Masuk</button>
      </form>
    </div>
  </section>

  <main class="container" id="app" aria-hidden="true">
    <header class="header site-header">
      <div class="brand">
        <div class="badge">â˜…</div>
        <h1 class="title-main">SDN KARANGSEGAR 03</h1>
        <div class="badge">â˜…</div>
      </div>
    </header>

    <section class="card card-upload">
      <div class="card-title"><span class="icon">â¤´</span> Unggah Foto Dokumentasi</div>
      <label class="uploader" id="dropzone">
        <input id="file-input" type="file" accept="image/*,video/*" multiple />
        <div class="inner">
          <div class="camera">ðŸ“·</div>
          <div style="font-weight:700">Pilih kategori, lalu klik untuk memilih foto/video atau seret ke sini</div>
          <div style="margin:10px 0">
            <select id="category-select" class="input" style="width:260px; text-transform:uppercase">
              <option value="" selected>PILIH KATEGORI</option>
              <option value="senam">KEGIATAN SENAM SEHAT</option>
              <option value="pramuka">KEGIATAN PRAMUKA</option>
              <option value="upacara">KEGIATAN UPACARA</option>
              <option value="maulid">MAULID NABI</option>
              <option value="kelulusan">FOTO KELULUSAN</option>
              <option value="bersama">FOTO BERSAMA</option>
            </select>
          </div>
          <div class="upload-note">Format: JPG, PNG, GIF, MP4, WEBM (Maks. 50MB per file). Pastikan memilih kategori terlebih dahulu.</div>
          <button type="button" class="upload-btn" id="choose-btn">Pilih File</button>
        </div>
      </label>
    </section>

    <!-- KATEGORI GALERI -->
    <section class="card card-upload category" id="cat-senam">
      <div class="card-title">KEGIATAN SENAM SEHAT</div>
      <div class="gallery" data-gallery="senam"></div>
    </section>

    <section class="card card-upload category" id="cat-pramuka">
      <div class="card-title">KEGIATAN PRAMUKA</div>
      <div class="gallery" data-gallery="pramuka"></div>
    </section>

    <section class="card card-upload category" id="cat-upacara">
      <div class="card-title">KEGIATAN UPACARA</div>
      <div class="gallery" data-gallery="upacara"></div>
    </section>

    <section class="card card-upload category" id="cat-maulid">
      <div class="card-title">MAULID NABI</div>
      <div class="gallery" data-gallery="maulid"></div>
    </section>

    <section class="card card-upload category" id="cat-kelulusan">
      <div class="card-title">FOTO KELULUSAN</div>
      <div class="gallery" data-gallery="kelulusan"></div>
    </section>

    <section class="card card-upload category" id="cat-bersama">
      <div class="card-title">FOTO BERSAMA</div>
      <div class="gallery" data-gallery="bersama"></div>
    </section>

    <section class="card card-info">
      <div class="card-title" style="margin-bottom:8px">Kontak & Informasi</div>
      <div class="contacts">
        <div class="contact">
          <div style="font-size:22px">ðŸ“¸</div>
          <div>
            <div class="label">Instagram</div>
            <div class="value">fhmi23456</div>
          </div>
        </div>
        <div class="contact">
          <div style="font-size:22px">ðŸŽµ</div>
          <div>
            <div class="label">TikTok</div>
            <div class="value">fahmim.y</div>
          </div>
        </div>
        <div class="contact whatsapp">
          <div style="font-size:22px">ðŸ“ž</div>
          <div>
            <div class="label">WhatsApp / Telepon</div>
            <div class="value">083800101097</div>
          </div>
        </div>
      </div>
      <div class="footer">
        WEBSITE DOKUMENTASI SEKOLAH SDN KARANGSEGAR 03<br/>
        CREATOR FAHMI M.Y
      </div>
    </section>
  </main>

  <script>
    // Floating dots generator
    (function spawnDots(){
      const root = document.getElementById('particles');
      const count = 36;
      const W = window.innerWidth;
      for(let i=0;i<count;i++){
        const d = document.createElement('div');
        d.className = 'dot';
        const x = Math.random()*W;
        const dx = (Math.random()*80 - 40) + 'px';
        const s = (Math.random()*0.8 + 0.4).toFixed(2);
        const dur = (Math.random()*18 + 16).toFixed(2) + 's';
        d.style.setProperty('--x', x + 'px');
        d.style.setProperty('--dx', dx);
        d.style.setProperty('--s', s);
        d.style.setProperty('--dur', dur);
        d.style.left = x + 'px';
        d.style.top = (Math.random()*100) + 'vh';
        root.appendChild(d);
      }
    })();

    // Login logic
    (function(){
      const form = document.getElementById('login-form');
      const err = document.getElementById('login-error');
      const gate = document.getElementById('gate');
      const app = document.getElementById('app');
      form.addEventListener('submit', function(e){
        e.preventDefault();
        const u = document.getElementById('username').value.trim();
        const p = document.getElementById('password').value;
        if(u === 'sdnkarangsegar03' && p === 'qwertyui123'){
          gate.classList.add('hide');
          app.removeAttribute('aria-hidden');
          // avoid leaving password in memory
          document.getElementById('password').value = '';
        }else{
          err.textContent = 'Username atau password salah.';
        }
      });
    })();

    // Upload handling: click + drag & drop + previews
    (function(){
      const drop = document.getElementById('dropzone');
      const input = document.getElementById('file-input');
      const choose = document.getElementById('choose-btn');
      const categorySelect = document.getElementById('category-select');
      const galleries = {
        senam: document.querySelector('.gallery[data-gallery="senam"]'),
        pramuka: document.querySelector('.gallery[data-gallery="pramuka"]'),
        upacara: document.querySelector('.gallery[data-gallery="upacara"]'),
        maulid: document.querySelector('.gallery[data-gallery="maulid"]'),
        kelulusan: document.querySelector('.gallery[data-gallery="kelulusan"]'),
        bersama: document.querySelector('.gallery[data-gallery="bersama"]'),
      };
      const MAX = 50 * 1024 * 1024; // 50MB per file

      choose.addEventListener('click', () => input.click());
      drop.addEventListener('click', (e) => {
        if(e.target === drop || e.target.closest('.inner')) input.click();
      });
      input.addEventListener('change', () => handleFiles(input.files));

      ['dragenter','dragover'].forEach(ev=>{
        drop.addEventListener(ev, e => {
          e.preventDefault(); e.stopPropagation();
          drop.classList.add('dragover');
        });
      });
      ['dragleave','drop'].forEach(ev=>{
        drop.addEventListener(ev, e => {
          e.preventDefault(); e.stopPropagation();
          drop.classList.remove('dragover');
        });
      });
      drop.addEventListener('drop', e => {
        if(e.dataTransfer && e.dataTransfer.files){
          handleFiles(e.dataTransfer.files);
        }
      });

      function handleFiles(fileList){
        const cat = categorySelect.value;
        if(!cat || !galleries[cat]){
          alert('Silakan pilih kategori terlebih dahulu.');
          return;
        }
        const gal = galleries[cat];
        const files = Array.from(fileList || []);
        files.forEach(file=>{
          if(!(file.type.startsWith('image/') || file.type.startsWith('video/'))) return;
          if(file.size > MAX){
            alert('Ukuran file melebihi 50MB: ' + file.name);
            return;
          }
          const reader = new FileReader();
          reader.onload = () => {
            const url = reader.result;
            const box = document.createElement('div');
            box.className = 'thumb';

            if(file.type.startsWith('image/')){
              const img = document.createElement('img');
              img.alt = file.name;
              img.src = url;
              box.appendChild(img);
            }else if(file.type.startsWith('video/')){
              const vid = document.createElement('video');
              vid.src = url;
              vid.controls = true;
              vid.playsInline = true;
              box.appendChild(vid);
            }

            const btn = document.createElement('button');
            btn.className = 'remove';
            btn.type = 'button';
            btn.setAttribute('aria-label', 'Hapus media');
            btn.textContent = 'Ã—';
            btn.addEventListener('click', () => {
              box.remove();
            });
            box.appendChild(btn);

            gal.prepend(box);
          };
          // Use DataURL for convenience (local preview)
          reader.readAsDataURL(file);
        });
        // reset input for same file selection again
        input.value = '';
      }
    })();
  </script>
</body>
</html>


